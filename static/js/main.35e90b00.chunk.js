(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){e.exports={cont:"zoneselector_cont__19IuZ",field:"zoneselector_field__1UOPE"}},136:function(e,t,n){e.exports={app:"app_app__1F5XI"}},137:function(e,t,n){e.exports={cards:"raiderio_cards__1vhFy"}},154:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);n(154),n(155);var a=n(0),c=n.n(a),r=n(38),s=n.n(r),o=n(25),i=n(20),l=n(136),d=n.n(l);function j(e,t){e="wcs::"+e;var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),c=Object(o.a)(n,2),r=c[0],s=c[1];return[r,function(t){try{var n=t instanceof Function?t(r):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}var u=n(47),b=n(137),h=n.n(b),O=n(258),v=n(22),f=n(72),m=n.n(f),x=n(78),p=n(261),g=n(45),_=n(6),y=x.a.Option;function S(e){var t=e.onAdd,n=Object(a.useState)({region:"us",server:"",name:""}),c=Object(o.a)(n,2),r=c[0],s=c[1];function l(e,t){s(Object(v.a)(Object(v.a)({},r),{},Object(i.a)({},e,t.target.value)))}return Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r)},className:m.a.cont,children:[Object(_.jsx)("div",{className:m.a.field,children:Object(_.jsxs)(x.a,{style:{width:120},value:r.region,onChange:function(e,t){s(Object(v.a)(Object(v.a)({},r),{},Object(i.a)({},e,t)))}.bind(this,"region"),children:[Object(_.jsx)(y,{value:"us",children:"us"}),Object(_.jsx)(y,{value:"eu",children:"eu"}),Object(_.jsx)(y,{value:"tw",children:"tw"}),Object(_.jsx)(y,{value:"kr",children:"kr"}),Object(_.jsx)(y,{value:"cn",children:"cn"})]})}),Object(_.jsx)("div",{className:m.a.field,children:Object(_.jsx)(p.a,{type:"text",name:"server",value:r.server,placeholder:"Server",onChange:l.bind(this,"server")})}),Object(_.jsx)("div",{className:m.a.field,children:Object(_.jsx)(p.a,{type:"text",name:"char",value:r.name,placeholder:"Character",onChange:l.bind(this,"name")})}),Object(_.jsx)("div",{className:m.a.field,children:Object(_.jsx)(g.a,{type:"primary",htmlType:"submit",children:"Add"})})]})}var w=n(70),N=n(31),C=n.n(N),k=n(71),F=n(65),D=n.n(F);var T={};window.rioStats=T,console.log("See `rioStats` to view fetched RIO data.");var z,A,I,R=n(263),E=n(260),M=n(262),P=n(257),H=n(142),L={"Spires of Ascension":"soa","Theater of Pain":"top","Halls of Atonement":"hoa","The Necrotic Wake":"nw","De Other Side":"dos","Mists of Tirna Scithe":"mots","Sanguine Depths":"sd",Plaguefall:"pf"};function B(e){return L[e]}var K,G=k.a.div(z||(z=Object(w.a)(["\n    background: #000;\n    line-height: 45px;\n    padding: 0px 22px;\n"]))),J=k.a.b(A||(A=Object(w.a)(["\n    margin-right: 1rem;\n"]))),W=k.a.span(I||(I=Object(w.a)(["\n    cursor: pointer;\n    font-family: monospace;\n"])));function Y(e){var t=e.runs,n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],s=c[1],i=Object(a.useMemo)((function(){var e={},n=999;return null===t||void 0===t||t.forEach((function(t){e[t.mythic_level]?e[t.mythic_level].push(t.dungeon):e[t.mythic_level]=[t.dungeon],t.mythic_level<=n&&(n=t.mythic_level)})),[e,n]}),[t]),l=Object(o.a)(i,2),d=l[0],j=l[1];Object(a.useEffect)((function(){r&&setTimeout((function(){s(!1)}),2e3)}),[r]);var u=d[j].map(B).join(" or ");return Object(_.jsxs)(G,{children:[Object(_.jsx)(J,{children:"LFG Filter"}),Object(_.jsx)(H.CopyToClipboard,{text:u,onCopy:function(){return s(!0)},children:Object(_.jsx)(W,{children:r?"Copied!":u})})]})}var X=k.a.div(K||(K=Object(w.a)(["\n\topacity: 0.8;\n\tmargin-top: 10px;\n\tfont-size: 0.8rem;\n"])));function Z(e){var t=e.char,n=e.onDelete,c=function(e){var t=function(e){return"".concat(e.region,":").concat(e.server,":").concat(e.name)}(e),n=Object(a.useState)(T),c=Object(o.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){r[t]||(console.log("Fetching",t),D.a.get(function(e){return"https://raider.io/api/v1/characters/profile?region=".concat(e.region,"&realm=").concat(e.server,"&name=").concat(e.name,"&fields=mythic_plus_scores_by_season:current,mythic_plus_best_runs")}(e)).then((function(e){console.log("resp",e),T[t]=e.data,s(Object(v.a)(Object(v.a)({},r),{},Object(i.a)({},t,e.data)))})).catch((function(e){var n;console.log(e),s(Object(v.a)(Object(v.a)({},r),{},Object(i.a)({},t,(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)||e)))})))}),[t,e,r,s]),r[t]}(t);if(!c)return null;if(c.error)return Object(_.jsxs)(E.a,{className:C.a.card,children:[Object(_.jsx)("strong",{children:c.error}),Object(_.jsx)("p",{children:c.message}),Object(_.jsx)(R.a,{onClick:n,className:C.a.delete})]});var r=c.mythic_plus_scores_by_season[0].scores,s=c.mythic_plus_best_runs,l=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(M.a,{src:c.thumbnail_url,className:C.a.avatar}),Object(_.jsxs)("a",{href:c.profile_url,target:"_blank",rel:"noreferrer",className:C.a.avatarAnnex,children:[Object(_.jsx)("strong",{children:c.name}),Object(_.jsxs)("small",{style:{marginLeft:"10px"},children:[c.race," ",c.class]})]})]});return Object(_.jsxs)(E.a,{className:C.a.card,children:[Object(_.jsx)(E.a.Meta,{title:l}),Object(_.jsx)("h3",{className:C.a.mainScore,children:r.all}),Object(_.jsx)("h3",{className:C.a.avatarAnnex,children:Object(_.jsx)(R.a,{onClick:n,className:C.a.icon})}),r.tank?Object(_.jsxs)("span",{className:C.a.subscore,children:[Object(_.jsx)("strong",{children:"Tank"}),": ",r.tank]}):null,r.healer?Object(_.jsxs)("span",{className:C.a.subscore,children:[Object(_.jsx)("strong",{children:"Healer"}),": ",r.healer]}):null,r.dps?Object(_.jsxs)("span",{className:C.a.subscore,children:[Object(_.jsx)("strong",{children:"DPS"}),": ",r.dps]}):null,Object(_.jsx)(P.a,{}),Object(_.jsxs)("div",{className:C.a.grid,children:[Object(_.jsx)("div",{children:Object(_.jsx)("strong",{children:"Dungeon"})}),Object(_.jsx)("div",{children:Object(_.jsx)("strong",{children:"Level"})}),Object(_.jsx)("div",{children:Object(_.jsx)("strong",{children:"Score"})}),Object(_.jsx)("div",{children:Object(_.jsx)("strong",{children:"+?"})}),s.map((function(e){return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)("div",{children:e.dungeon}),Object(_.jsx)("div",{children:e.mythic_level}),Object(_.jsx)("div",{children:e.score}),Object(_.jsx)("div",{children:e.num_keystone_upgrades})]},e.dungeon)}))]}),Object(_.jsxs)(X,{children:["Last crawled at ",new Date(c.last_crawled_at).toLocaleString()]}),Object(_.jsx)("div",{className:C.a.onHover,children:Object(_.jsx)(Y,{runs:s})})]})}var q,Q,U,V,$=O.a.Content;var ee,te={SOD:"SOD",CN:"CN"},ne=(q={},Object(i.a)(q,te.SOD,"Sanctum of Domination"),Object(i.a)(q,te.CN,"Castle Nathria"),q),ae=(Q={},Object(i.a)(Q,te.SOD,28),Object(i.a)(Q,te.CN,26),Q),ce={Mythic:"Mythic",Heroic:"Heroic",Normal:"Normal",LFR:"LFR"},re=(U={},Object(i.a)(U,ce.Mythic,"Mythic"),Object(i.a)(U,ce.Heroic,"Heroic"),Object(i.a)(U,ce.Normal,"Normal"),Object(i.a)(U,ce.LFR,"LFR"),U),se=(V={},Object(i.a)(V,ce.Mythic,5),Object(i.a)(V,ce.Heroic,4),Object(i.a)(V,ce.Normal,3),Object(i.a)(V,ce.LFR,1),V),oe={"The Tarragrue":"Tarragrue","The Eye of the Jailer":"The Eye","The Nine":"The Nine","Remnant of Ner'zhul":"Ner'zhul","Soulrender Dormazain":"Soulrender","Painsmith Raznal":"Painsmith","Guardian of the First Ones":"Guardian","Fatescribe Roh-Kalo":"Fatescribe","Kel'Thuzad":"KT","Sylvanas Windrunner":"Sylvanas"},ie=new FormData;function le(){var e,t=j("auth_token"),n=Object(o.a)(t,2),a=n[0],c=n[1];return a||(e=c,ee||(ee=D()({method:"post",url:"https://www.warcraftlogs.com/oauth/token",data:ie,headers:{"Content-Type":"multipart/form-data"},auth:{username:"939c7296-5335-40c4-9338-b213bfcadc92",password:"1SyEyndtXPGyQIXWPz4w4dheqOeKSKk22hBCQzUP"}})),ee.then((function(t){e(t.data.access_token)})).catch((function(t){console.error(t),e(t.response.data)}))),a}ie.append("grant_type","client_credentials");var de=function(e,t){var n=e.id,a=e.difficulty,c=t.name,r=t.server,s=t.region;return'\n{\n\tcharacterData {\n\t\tcharacter(\n\t\t\tname: "'.concat(c,'"\n\t\t\tserverSlug: "').concat(r,'"\n\t\t\tserverRegion: "').concat(s,'"\n\t\t) {\n\t\t\tzoneRankings(\n\t\t\t\tdifficulty: ').concat(se[a],"\n\t\t\t\tzoneID: ").concat(ae[n],"\n\t\t\t)\n\t\t}\n\t}\n}\n")},je={};window.wlCharStats=je,console.log("See `wlCharStats` to view fetched RIO data.");var ue=n(259),be=n(104),he=n.n(be),Oe=x.a.Option,ve=Object.keys(te),fe=Object.keys(ce);function me(e){var t=e.value,n=e.onChange,a=t.id,c=t.difficulty;return Object(_.jsxs)("div",{className:he.a.cont,children:[Object(_.jsx)("div",{className:he.a.field,children:Object(_.jsx)(x.a,{style:{width:240},value:a,onChange:function(e){n(Object(v.a)(Object(v.a)({},t),{},{id:e}))},children:ve.map((function(e){return Object(_.jsx)(Oe,{value:e,children:ne[e]},e)}))})}),Object(_.jsx)("div",{className:he.a.field,children:Object(_.jsx)(x.a,{style:{width:160},value:c,onChange:function(e){n(Object(v.a)(Object(v.a)({},t),{},{difficulty:e}))},children:fe.map((function(e){return Object(_.jsx)(Oe,{value:e,children:re[e]},e)}))})})]})}var xe=x.a.Option;function pe(e){var t=e.bosses,n=void 0===t?[]:t,a=e.value,c=void 0===a?[]:a,r=e.onChange;return Object(_.jsx)("div",{children:Object(_.jsx)(x.a,{mode:"multiple",allowClear:!0,style:{minWidth:700},value:c,onChange:r,placeholder:"Select Bosses",children:n.map((function(e){return Object(_.jsx)(xe,{children:e},e)}))})})}var ge=O.a.Content;function _e(){var e=this,t=j("wlTrackedChars",[]),n=Object(o.a)(t,2),c=n[0],r=n[1],s=j("wlZone",{id:te.SOD,difficulty:ce.Heroic}),l=Object(o.a)(s,2),d=l[0],b=l[1],h=d.id,O=j("bosses",{}),f=Object(o.a)(O,2),m=f[0],x=f[1],p=function(e){var t=e.zone,n=e.chars,c=le(),r=Object(a.useState)({}),s=Object(o.a)(r,2),l=s[0],d=s[1],j=Object(a.useState)(t),u=Object(o.a)(j,2),b=u[0],h=u[1];return t!==b&&(h(t),d({})),Object(a.useEffect)((function(){var e={headers:{Authorization:"Bearer ".concat(c)}};n.forEach((function(n){var a=function(e,t){var n=e.id,a=e.difficulty,c=t.name,r=t.server,s=t.region;return"".concat(n,":").concat(a,":").concat(s,":").concat(r,":").concat(c)}(t,n);je[a]?l[a]||d((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(i.a)({},a,je[a]))})):(je[a]={isFetching:!0},d((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(i.a)({},a,je[a]))})),D.a.post("https://www.warcraftlogs.com/api/v2/client",{query:de(t,n)},e).then((function(e){var t,c,r,s,o=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(c=t.data)||void 0===c||null===(r=c.characterData)||void 0===r?void 0:r.character;je[a]=o?Object(v.a)(Object(v.a)({},o),{},{name:n.name}):{message:"Found no character stats",isError:!0},(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.errors)&&console.error(e.data.errors.map((function(e){return e.message}))),d((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(i.a)({},a,je[a]))}))})).catch(console.error))}))}),[t,n,c,l]),l}({zone:d,chars:c}),g=m[h]&&m[h].length?m[h].reduce((function(e,t){return e[t]=!0,e}),{}):null,y=Object(a.useMemo)((function(){return function(e){var t={},n={};for(var a in e){var c,r=e[a];if(!r.isFetching&&!r.isError){var s=r.name,o=null===(c=r.zoneRankings)||void 0===c?void 0:c.rankings;t[s]=null===o||void 0===o?void 0:o.map((function(e){var t=e.encounter.name;return n[t]||(n[t]=!0),{boss:t,bestAmount:e.bestAmount}}))}}return{byBoss:t,bosses:Object.keys(n)}}(p)}),[p]);window.wlDPSStats=y;var w=Object(a.useMemo)((function(){function t(e){r([].concat(Object(u.a)(c.slice(0,e)),Object(u.a)(c.slice(e+1))))}var n;return n=y.bosses.length?y.bosses.reduce((function(e,t){return g&&!g[t]||e.push({title:oe[t],dataIndex:t,key:t,defaultSortOrder:"descend",sorter:function(e,n){return e[t]-n[t]}}),e}),[]):[],[{title:"Name",dataIndex:"name",key:"name"}].concat(Object(u.a)(n),[{dataIndex:"action",key:"action",render:function(n,a,c){return Object(_.jsx)(R.a,{onClick:t.bind(e,c)})}}])}),[y,c,r,g]),N=Object(a.useMemo)((function(){var e=[];return y.bosses.length&&c.forEach((function(t){var n=t.name;y.byBoss[n]&&e.push(Object(v.a)({name:n,key:n},y.byBoss[n].reduce((function(e,t){return g&&!g[t.boss]||(e[t.boss]=t.bestAmount.toFixed(2)),e}),{})))})),e}),[y,c,g]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ge,{style:{padding:"50px 50px 10px"},children:Object(_.jsx)(S,{onAdd:function(e){r([].concat(Object(u.a)(c),[e]))}})}),Object(_.jsx)(ge,{style:{padding:"10px 50px"},children:Object(_.jsx)(me,{value:d,onChange:b})}),Object(_.jsx)(ge,{style:{padding:"10px 50px 10px"},children:Object(_.jsx)(pe,{bosses:y&&y.bosses?y.bosses:void 0,value:m[h],onChange:function(e){x(Object(v.a)(Object(v.a)({},m),{},Object(i.a)({},h,e)))}})}),Object(_.jsx)(ge,{style:{padding:"20px 50px"},children:Object(_.jsx)(ue.a,{dataSource:N,columns:w,pagination:!1})})]})}console.log("See `wlDPSStats` to view consolidated stats.");var ye,Se=n(58),we=O.a.Header,Ne="rio",Ce="wcl",ke=(ye={},Object(i.a)(ye,Ne,(function(){var e=this,t=j("raiderio",[]),n=Object(o.a)(t,2),a=n[0],c=n[1];function r(e){c([].concat(Object(u.a)(a.slice(0,e)),Object(u.a)(a.slice(e+1))))}return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($,{style:{padding:"20px 50px"},children:Object(_.jsx)(S,{onAdd:function(e){c([].concat(Object(u.a)(a),[e]))}})}),Object(_.jsx)($,{className:h.a.cards,children:a&&a.map((function(t,n){return Object(_.jsx)(Z,{char:t,onDelete:r.bind(e,n)},n)}))})]})})),Object(i.a)(ye,Ce,(function(){return Object(_.jsx)(_e,{})})),ye);var Fe=function(){var e=j("selectedTab",[Ne]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=ke[n[0]];return Object(_.jsxs)(O.a,{className:d.a.app,children:[Object(_.jsx)(we,{children:Object(_.jsxs)(Se.a,{theme:"dark",mode:"horizontal",selectedKeys:n,onClick:function(e){var t=e.keyPath;a(t)},children:[Object(_.jsx)(Se.a.Item,{children:"Raider.IO"},Ne),Object(_.jsx)(Se.a.Item,{children:"Warcraft Logs"},Ce)]})}),Object(_.jsx)(c,{})]})};s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(Fe,{})}),document.getElementById("root"))},31:function(e,t,n){e.exports={avatarAnnex:"char_avatarAnnex__35AYj",avatar:"char_avatar__282x6",card:"char_card__3aviT",icon:"char_icon__21VfR",onHover:"char_onHover__1KYtY",mainScore:"char_mainScore__1aO3A",delete:"char_delete__3YpGC",subscore:"char_subscore__3uPcB",grid:"char_grid__2A1i_"}},72:function(e,t,n){e.exports={cont:"addchar_cont__2VDMy",field:"addchar_field__3SYcZ"}}},[[255,1,2]]]);
//# sourceMappingURL=main.35e90b00.chunk.js.map